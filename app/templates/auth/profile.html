{% extends "base.html" %}

{% block title %}í”„ë¡œí•„ - í•™ìŠµ ê´€ë¦¬ ì‹œìŠ¤í…œ{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3>ğŸ‘¤ ë‚´ í”„ë¡œí•„</h3>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-3">
                            {% if user.profile_image %}
                                <img src="{{ user.profile_image }}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" class="img-fluid rounded-circle" style="width: 100px; height: 100px;">
                            {% else %}
                                <div class="bg-secondary rounded-circle d-flex align-items-center justify-content-center" style="width: 100px; height: 100px;">
                                    <span class="text-white fs-2">{{ user.name[0] }}</span>
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-md-9">
                            <h4>{{ user.name }}</h4>
                            <p class="text-muted">{{ user.get_role_name() }}</p>
                            <p><strong>ì´ë©”ì¼:</strong> {{ user.email }}</p>
                        </div>
                    </div>

                    <hr>

                    <div class="row">
                        <div class="col-md-6">
                            <h5>ê³„ì • ì •ë³´</h5>
                            <p><strong>ì—­í• :</strong> {{ user.get_role_name() }}</p>
                            <p><strong>ìƒíƒœ:</strong> 
                                {% if user.is_active %}
                                    <span class="badge bg-success">í™œì„±</span>
                                {% else %}
                                    <span class="badge bg-danger">ë¹„í™œì„±</span>
                                {% endif %}
                            </p>
                            {% if user.last_login %}
                                <p><strong>ë§ˆì§€ë§‰ ë¡œê·¸ì¸:</strong> {{ user.last_login.strftime('%Y-%m-%d %H:%M') }}</p>
                            {% endif %}
                        </div>
                        
                        <div class="col-md-6">
                            <h5>ì¶”ê°€ ì •ë³´</h5>
                            {% if user.phone %}
                                <p><strong>ì—°ë½ì²˜:</strong> {{ user.phone }}</p>
                            {% endif %}
                            {% if user.department %}
                                <p><strong>ë¶€ì„œ/í•™ê³¼:</strong> {{ user.department }}</p>
                            {% endif %}
                        </div>
                    </div>

                    <hr>

                    <div class="text-center">
                        <a href="{{ url_for('main.index') }}" class="btn btn-secondary">
                            ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
                        </a>
                        
                        {% if user.is_admin() %}
                            <a href="{{ url_for('admin.dashboard') }}" class="btn btn-primary">
                                ğŸ›¡ï¸ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
                            </a>
                        {% elif user.is_teacher() %}
                            <a href="{{ url_for('teacher.dashboard') }}" class="btn btn-info">
                                ğŸ“š êµì‚¬ ëŒ€ì‹œë³´ë“œ
                            </a>
                        {% elif user.is_student() %}
                            <a href="{{ url_for('student.dashboard') }}" class="btn btn-success">
                                ğŸ“ í•™ìƒ ëŒ€ì‹œë³´ë“œ
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}